<!DOCTYPE html>
<html lang="en">

    <head th:replace="~{fragments/head :: head}" >

<body>

    <header th:replace="~{fragments/header :: header}"></header>

    <div class="sign-up">
        <div class="sign-up-box">
            <h2>Registro</h2>

            <!-- Mensajes de error -->
            <div class="message error" th:if="${error}">
                <p  th:text="${error}"></p>
            </div>

            <form action="/Sign-up/Sign-up" method="post">

                <label for="userid">Usuario:</label>
                <input type="text" id="userid" name="cedula" placeholder="Usuario" required
                       pattern="\d{1,9}" title="Solo números, hasta 9 dígitos"
                       maxlength="9" th:value="${cedula}">

                <label for="name">Nombre:</label>
                <input type="text" id="name" name="nombre" placeholder="Nombre" required pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ ]+"
                       title="Solo letras" th:value="${nombre}"><br>

                <label for="last-name">Apellido:</label>
                <input type="text" id="last-name" name="apellido" placeholder="Apellido" required pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ]+"
                       title="Solo letras" th:value="${apellido}"><br>

                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="clave" placeholder="Contraseña" required><br>

                <label for="confirmPassword">Confirmar Contraseña:</label>
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirmar Contraseña" required
                       oninput="this.setCustomValidity(this.value !== document.getElementById('password').value ? 'Las contraseñas no coinciden' : '')"><br>

                <label for="profile">Perfil:</label>
                <select id="profile" name="perfil" required>
                    <option value="PACIENTE" th:selected="${perfil == 'PACIENTE'}">Paciente</option>
                    <option value="MEDICO" th:selected="${perfil == 'MEDICO'}">Médico</option>
                </select><br>

                <button type="submit">Registrarse</button>
            </form>

            <div>
                <p>¿Ya tienes una cuenta?</p>
                <a href="/Sign-in">
                    <button type="submit">Iniciar sesión</button>
                </a>
            </div>
        </div>
    </div>

    <div th:replace="~{fragments/footer::footer}"></div>

</body>
</html>